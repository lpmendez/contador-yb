(function(e){function t(t){for(var o,r,s=t[0],c=t[1],u=t[2],f=0,m=[];f<s.length;f++)r=s[f],i[r]&&m.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("c21b"),i=n.n(o);i.a},"03a5":function(e,t,n){"use strict";var o=n("72df"),i=n.n(o);i.a},"206d":function(e,t,n){"use strict";var o=n("39a3"),i=n.n(o);i.a},"301e":function(e,t,n){"use strict";var o=n("51b2"),i=n.n(o);i.a},"39a3":function(e,t,n){},4063:function(e,t,n){},"51b2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-view")],1)},a=[],r={name:"app"},s=r,c=(n("034f"),n("2877")),u=Object(c["a"])(s,i,a,!1,null,null,null);u.options.__file="App.vue";var l=u.exports,f=n("5f30"),m=n.n(f),p=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:"config.png",alt:""},on:{click:e.goToConfig}}),n("section",{staticClass:"todo"},[n("ul",{staticClass:"todo-list"},[n("li",{staticClass:"right date"},[e._v(e._s(e.date))]),"-"!=e.timePerPersonString?n("li",{staticClass:"time"},[e._v("\r\n                Para que todas puedan pasar,"),n("br"),e._v(" cada una tiene "+e._s(e.timePerPersonString))]):n("li",{staticClass:"separator"}),""!=e.infoText?n("li",{domProps:{innerHTML:e._s(e.infoText)}}):e._e(),n("div",{staticClass:"pending-list"},[n("List",{attrs:{items:e.pending,nameProp:"pending",status:!1},on:{disable:e.disablePeople}})],1),n("div",{staticClass:"add-list"},[n("li",[n("input",{attrs:{type:"checkbox",id:"pnew"}}),n("label",{staticClass:"toggle",attrs:{for:"pnew"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.people,expression:"people"}],attrs:{type:"text",placeholder:"Escribe tu nombre.."},domProps:{value:e.people},on:{focusout:e.addPeople,keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addPeople(t):null},input:function(t){t.target.composing||(e.people=t.target.value)}}})])]),n("li"),n("div",{staticClass:"done-list"},[n("List",{attrs:{items:e.done,nameProp:"done",status:!0}})],1)])])])},g=[],h=(n("ac6a"),n("7514"),n("a481"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.items,function(t,o){return n("li",{key:e.nameProp+o},[n("input",{attrs:{type:"checkbox",id:e.nameProp+o,disabled:e.status},domProps:{checked:e.status},on:{change:function(n){e.$emit("disable",t,n)}}}),n("label",{staticClass:"toggle",attrs:{for:e.nameProp+o}}),n("div",{staticClass:"names"},[e._v(e._s(t.name))]),e.isLogged&&!t.twoHours?n("span",{staticClass:"time2"},[e._v(e._s(t.time))]):e._e(),e.isLogged&&t.twoHours?n("span",{staticClass:"time2 specialTime",domProps:{innerHTML:e._s(t.time)}}):e._e()])}))}),v=[],b=n("8aa5"),T=n.n(b),_={props:["items","status","nameProp"],data:function(){return{isLogged:null!=T.a.auth().currentUser}}},C=_,w=(n("301e"),Object(c["a"])(C,h,v,!1,null,null,null));w.options.__file="List.vue";var x=w.exports,y={apiKey:"AIzaSyBM_gzoDhM_1PzIJu9wkr8mVJjWdwuYwK8",authDomain:"contador-f1626.firebaseapp.com",databaseURL:"https://contador-f1626.firebaseio.com",projectId:"contador-f1626",storageBucket:"contador-f1626.appspot.com",messagingSenderId:"417151475130"},P=T.a.initializeApp(y).database(),D=P.ref("people"),S={components:{List:x},data:function(){return{people:"",curDate:new Date,infoText:""}},created:function(){var e=this,t=P.ref("config/infoText");t.once("value",function(t){e.infoText=t.val().replace(/\n/g,"<br>")})},firebase:function(){return{list:D.orderByChild("date").equalTo(this.shortDate),from:{source:P.ref("config/from"),asObject:!0},to:{source:P.ref("config/to"),asObject:!0},events:P.ref("config/events")}},computed:{done:function(){return this.list.filter(function(e){return e.status})},pending:function(){var e=this,t=this.list.filter(function(e){return!e.status}),n=t.length;if(n>1){var o=this.totalTime(),i=this.transformToDate(this.from).getTime(),a=this.transformToDate(this.to).getTime();this.curDate.getTime()>i&&this.curDate.getTime()<a&&(i=this.curDate.getTime());var r={hour12:!0,hour:"numeric",minute:"numeric"};o/=n,t=t.map(function(t){var n=new Date(i),a=n.toLocaleTimeString("es-SV",r);i+=o;var s=new Date(i),c=e,u=e.events.find(function(e){var t=c.transformToDate(e.from),o=c.transformToDate(e.to);return console.log("from TUrno",n.getTime(),"<= to Evento",o.getTime()),console.log("to Turno",s.getTime(),">= from Evento",t.getTime()),n.getTime()<=o.getTime()&&s.getTime()>=t.getTime()});if(u){var l=e.transformToDate(u.from),f=e.transformToDate(u.to);if(l>n){console.log("entro if"),s=l;var m=i-s.getTime();i=s.getTime();var p=s.toLocaleTimeString("es-SV",r),d=a+" - "+p;t["time"]=d.replace("p. m.","").replace("a. m.",""),n=f,a=n.toLocaleTimeString("es-SV",r),i=n.getTime()+m,s=new Date(i),p=s.toLocaleTimeString("es-SV",r),d=a+" - "+p,t["time"]="<div>"+t.time+"</div><div>"+d.replace("p. m.","").replace("a. m.","")+"</div>",t["twoHours"]=!0}else{console.log("entro else"),n=f,a=n.toLocaleTimeString("es-SV",r),i=n.getTime()+o,s=new Date(i);var g=s.toLocaleTimeString("es-SV",r),h=a+" - "+g;t["time"]=h.replace("p. m.","").replace("a. m.","")}}else{var v=s.toLocaleTimeString("es-SV",r),b=a+" - "+v;t["time"]=b.replace("p. m.","").replace("a. m.","")}return t})}return t},date:function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"};return this.curDate.toLocaleDateString("es-SV",e)},shortDate:function(){var e={year:"2-digit",month:"2-digit",day:"2-digit"};return this.curDate.toLocaleDateString("es-SV",e)},time:function(){return this.curDate.toLocaleTimeString("es-SV")},timePerPersonString:function(){var e=this.list.filter(function(e){return!e.status}).length;if(e>1){var t=this.totalTime()/e;console.log("totalInMilSec",t);var n=t/6e4,o=t/36e5;if(n<60){var i=Math.floor(n);return i+" min"}var a=Math.floor(o),r=o%1;return r>0?(r*=60,r=Math.round(100*r)/100,r=Math.floor(r),a+"h "+r+"m"):a+"h"}return"-"}},methods:{addPeople:function(){if(""!=this.people){var e={name:this.people,status:!1,date:this.shortDate,hour:this.time};D.push(e),this.people=""}},disablePeople:function(e,t){t.target.checked&&D.child(e[".key"]).child("status").set(!0)},goToConfig:function(){this.$router.replace("/config")},totalTime:function(){var e=this,t=this.totalEstimatedTime(this.from,this.to),n=0;return this.events.forEach(function(t){console.log("accEvent",n),n+=e.totalEstimatedTime(t.from,t.to),console.log("accEvent",n)}),t-n},totalEstimatedTime:function(e,t){if(!e||!t)return 0;var n=this.transformToDate(e).getTime(),o=this.transformToDate(t).getTime();return this.curDate.getTime()>n&&this.curDate.getTime()<o&&(n=this.curDate.getTime()),o-n},transformToDate:function(e){var t=new Date,n=parseInt(e.hour);return"PM"==e.ampm&&12!=n&&(n+=12),t.setHours(n,e.minutes),t}}},k=S,E=(n("03a5"),Object(c["a"])(k,d,g,!1,null,"0340a5c8",null));E.options.__file="Todo.vue";var j=E.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page"},[n("div",{staticClass:"form"},[n("h3",[e._v("Login")]),n("form",{staticClass:"login-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{on:{click:e.signIn}},[e._v("Ingresar")]),n("p",{staticClass:"message"},[n("router-link",{attrs:{to:"/"}},[e._v("Inicio")])],1)])])])},L=[],M=P.ref("admin"),$={data:function(){return{username:"",password:""}},firebase:{users:M},computed:{findByUser:function(){var e=this;this.username=this.username.toLowerCase();var t=this.users.filter(function(t){return t.username==e.username});return 1==t.length?this.users.filter(function(t){return t.username==e.username})[0].email:""}},methods:{signIn:function(){var e=this;if(""!=this.username&&""!=this.password){var t=this.findByUser;T.a.auth().signInWithEmailAndPassword(t,this.password).then(function(t){e.$router.replace("/config")},function(e){alert("Credenciales incorrectas"),console.log("Error ")})}}}},A=$,I=(n("90cd"),Object(c["a"])(A,O,L,!1,null,"b60cdf48",null));I.options.__file="Login.vue";var N=I.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"form"},[n("form",[n("Time",{attrs:{time:e.from,label:"Desde",name:"from"},on:{changeConfig:e.changeConfig}}),n("br"),n("Time",{attrs:{time:e.to,label:"Hasta",name:"to"},on:{changeConfig:e.changeConfig}}),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.infoText,expression:"infoText"}],attrs:{placeholder:"Texto informativo"},domProps:{value:e.infoText},on:{focusout:e.setInfoText,input:function(t){t.target.composing||(e.infoText=t.target.value)}}}),n("br"),n("Events"),n("router-link",{attrs:{to:"/",tag:"button"}},[e._v("Regresar")])],1)])])},H=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[e._v(e._s(e.label))]),n("Number",{attrs:{name:"hour",value:e.time.hour,min:"1",max:"11"},on:{changeConfig:e.changeConfig}}),e._v(":\n    "),n("Number",{attrs:{name:"minutes",value:e.time.minutes,min:"0",max:"59"},on:{changeConfig:e.changeConfig}}),n("am-pm",{attrs:{value:e.time.ampm,name:e.name},on:{changeConfig:e.changeConfig}})],1)},q=[],B=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"switch-field"},[n("input",{attrs:{type:"radio",id:e.name+"switch_left",value:"AM"},domProps:{checked:"AM"==e.value},on:{input:function(t){e.$emit("changeConfig","ampm",t.target.value)}}}),n("label",{attrs:{for:e.name+"switch_left"}},[e._v("AM")]),n("input",{attrs:{type:"radio",id:e.name+"switch_right",value:"PM"},domProps:{checked:"PM"==e.value},on:{input:function(t){e.$emit("changeConfig","ampm",t.target.value)}}}),n("label",{attrs:{for:e.name+"switch_right"}},[e._v("PM")])])}),z=[],J={props:["value","name"],data:function(){return{}}},K=J,R=(n("c591"),Object(c["a"])(K,B,z,!1,null,null,null));R.options.__file="AmPm.vue";var W=R.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"number",min:e.min,max:e.max},on:{input:function(t){e.$emit("changeConfig",e.name,t.target.value)}}})},F=[],G={props:["min","max","name"]},Q=G,X=(n("206d"),Object(c["a"])(Q,Y,F,!1,null,"f41e8924",null));X.options.__file="Number.vue";var Z=X.exports,ee={data:function(){return{}},props:["time","label","name"],components:{AmPm:W,Number:Z},mounted:function(){console.log(this.name),console.log(this.time)},methods:{changeConfig:function(e,t){console.log("entre en time "+t),this.$emit("changeConfig",this.name+"/"+e,t)}}},te=ee,ne=(n("cf90"),Object(c["a"])(te,U,q,!1,null,"69616edc",null));ne.options.__file="Time.vue";var oe=ne.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.events,function(t,o){return n("div",{key:o,staticClass:"prueba"},[n("input",{staticClass:"eliminar",attrs:{type:"button",value:"Eliminar"},on:{click:function(n){e.deleteConfig(t[".key"])}}}),n("Time",{attrs:{time:t.from,label:"Desde",name:t[".key"]+"/from"},on:{changeConfig:e.changeConfig}}),n("br"),n("Time",{attrs:{time:t.to,label:"Hasta",name:t[".key"]+"/to"},on:{changeConfig:e.changeConfig}}),n("hr")],1)}),n("input",{staticClass:"addNew",attrs:{type:"button",value:"Agregar horas a bloquear"},on:{click:e.addNewEvent}})],2)},ae=[],re={components:{Time:oe},firebase:{events:P.ref("config/events"),from:{source:P.ref("config/from"),asObject:!0},to:{source:P.ref("config/to"),asObject:!0}},props:["min","max"],methods:{changeConfig:function(e,t){console.log("entre en events name ",e," val ",t),this.$emit("changeConfig",e,t),P.ref("config/events").child(e).set(t)},deleteConfig:function(e){console.log("entre en delete name",e),P.ref("config/events").child(e).remove()},addNewEvent:function(){P.ref("config").child("events").push({from:{ampm:this.from.ampm,hour:this.from.hour,minutes:this.from.minutes},to:{ampm:this.from.ampm,hour:this.from.hour,minutes:this.from.minutes}})}}},se=re,ce=(n("e90c"),Object(c["a"])(se,ie,ae,!1,null,"bd0e1616",null));ce.options.__file="Events.vue";var ue=ce.exports,le={data:function(){return{infoText:""}},created:function(){var e=this,t=P.ref("config/infoText");t.once("value",function(t){e.infoText=t.val()})},components:{Time:oe,Events:ue},firebase:{from:{source:P.ref("config/from"),asObject:!0},to:{source:P.ref("config/to"),asObject:!0}},methods:{changeConfig:function(e,t){console.log("entre en config"),P.ref("config").child(e).set(t)},setInfoText:function(){console.log("entre en info text"),P.ref("config").child("infoText").set(this.infoText)}}},fe=le,me=(n("80fd"),Object(c["a"])(fe,V,H,!1,null,"6c873cca",null));me.options.__file="Config.vue";var pe,de=me.exports,ge=[{path:"*",redirect:"/"},{path:"/",component:j},{path:"/login",name:"login",component:N},{path:"/config",component:de,meta:{requiresAuth:!0}}];o["a"].use(m.a),o["a"].use(p["a"]),o["a"].config.productionTip=!1;var he=new p["a"]({routes:ge});he.beforeEach(function(e,t,n){var o=T.a.auth().currentUser,i=e.matched.some(function(e){return e.meta.requiresAuth});i&&!o?n("/login"):n()}),T.a.auth().onAuthStateChanged(function(){pe||(pe=new o["a"]({render:function(e){return e(l)},router:he}).$mount("#app"))})},"5ed6":function(e,t,n){},"72df":function(e,t,n){},"748a":function(e,t,n){},"80fd":function(e,t,n){"use strict";var o=n("4063"),i=n.n(o);i.a},"8cd3":function(e,t,n){},"90cd":function(e,t,n){"use strict";var o=n("5ed6"),i=n.n(o);i.a},a616:function(e,t,n){},c21b:function(e,t,n){},c591:function(e,t,n){"use strict";var o=n("8cd3"),i=n.n(o);i.a},cf90:function(e,t,n){"use strict";var o=n("748a"),i=n.n(o);i.a},e90c:function(e,t,n){"use strict";var o=n("a616"),i=n.n(o);i.a}});
//# sourceMappingURL=app.51881a9e.js.map