(function(e){function t(t){for(var a,o,s=t[0],u=t[1],c=t[2],m=0,f=[];m<s.length;m++)o=s[m],r[o]&&f.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("c21b"),r=n.n(a);r.a},"301e":function(e,t,n){"use strict";var a=n("51b2"),r=n.n(a);r.a},"3f45":function(e,t,n){},4176:function(e,t,n){"use strict";var a=n("5194"),r=n.n(a);r.a},5194:function(e,t,n){},"51b2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-view")],1)},i=[],o={name:"app"},s=o,u=(n("034f"),n("2877")),c=Object(u["a"])(s,r,i,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,m=n("5f30"),f=n.n(m),p=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:"config.png",alt:""},on:{click:e.goToConfig}}),n("section",{staticClass:"todo"},[n("ul",{staticClass:"todo-list"},[n("li",{staticClass:"right date"},[e._v(e._s(e.date))]),"-"!=e.timePerPerson?n("li",{staticClass:"time"},[e._v("Cada una tiene "+e._s(e.timePerPerson))]):n("li",{staticClass:"separator"}),n("div",{staticClass:"pending-list"},[n("List",{attrs:{items:e.pending,nameProp:"pending",status:!1},on:{disable:e.disablePeople}})],1),n("div",{staticClass:"add-list"},[n("li",[n("input",{attrs:{type:"checkbox",id:"pnew"}}),n("label",{staticClass:"toggle",attrs:{for:"pnew"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.people,expression:"people"}],attrs:{type:"text",placeholder:"Escribe tu nombre.."},domProps:{value:e.people},on:{focusout:e.addPeople,keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addPeople(t):null},input:function(t){t.target.composing||(e.people=t.target.value)}}})])]),n("li"),n("div",{staticClass:"done-list"},[n("List",{attrs:{items:e.done,nameProp:"done",status:!0}})],1)])])])},h=[],g=(n("a481"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.items,function(t,a){return n("li",{key:e.nameProp+a},[n("input",{attrs:{type:"checkbox",id:e.nameProp+a,disabled:e.status},domProps:{checked:e.status},on:{change:function(n){e.$emit("disable",t,n)}}}),n("label",{staticClass:"toggle",attrs:{for:e.nameProp+a}}),n("div",{staticClass:"names"},[e._v(e._s(t.name))]),n("span",{staticClass:"time2"},[e._v(e._s(t.time))])])}))}),v=[],b={props:["items","status","nameProp"]},_=b,C=(n("301e"),Object(u["a"])(_,g,v,!1,null,null,null));C.options.__file="List.vue";var y=C.exports,w=n("8aa5"),P=n.n(w),x={apiKey:"AIzaSyCPjBv91LpP_3Ml3MaegaWOEDapF7JXcuM",authDomain:"contador-yb-dev.firebaseapp.com",databaseURL:"https://contador-yb-dev.firebaseio.com",projectId:"contador-yb-dev",storageBucket:"contador-yb-dev.appspot.com",messagingSenderId:"671743433880"},j=P.a.initializeApp(x).database(),O=j.ref("people"),T={components:{List:y},data:function(){return{people:"",curDate:new Date,minVal:"",maxVal:""}},firebase:function(){return{list:O.orderByChild("date").equalTo(this.shortDate),from:{source:j.ref("config/from"),asObject:!0},to:{source:j.ref("config/to"),asObject:!0}}},computed:{done:function(){return this.list.filter(function(e){return e.status})},pending:function(){var e=this.list.filter(function(e){return!e.status}),t=e.length;if(t>1){var n=this.totalEstimatedTime(),a=this.minVal,r={hour12:!0,hour:"numeric",minute:"numeric"};n/=t,e=e.map(function(e){var t=new Date(a).toLocaleTimeString("es-SV",r);a+=n;var i=new Date(a).toLocaleTimeString("es-SV",r),o=t+" - "+i;return e["time"]=o.replace("p. m.","").replace("a. m.",""),e})}return console.log(e),e},date:function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"};return this.curDate.toLocaleDateString("es-SV",e)},shortDate:function(){var e={year:"2-digit",month:"2-digit",day:"2-digit"};return this.curDate.toLocaleDateString("es-SV",e)},time:function(){return this.curDate.toLocaleTimeString("es-SV")},timePerPerson:function(){var e=this.totalEstimatedTime(),t=this.pending.length;if(t>1){e/=t;var n=e/6e4,a=e/36e5;if(n<60){var r=Math.floor(n);return r+" min"}var i=Math.floor(a),o=a%1;return o>0?(o*=60,o=Math.round(100*o)/100,o=Math.floor(o),i+"h "+o+"m"):i+"h"}return"-"}},methods:{addPeople:function(){if(""!=this.people){var e={name:this.people,status:!1,date:this.shortDate,hour:this.time};O.push(e),this.people=""}},disablePeople:function(e,t){t.target.checked&&O.child(e[".key"]).child("status").set(!0)},goToConfig:function(){this.$router.replace("/config")},totalEstimatedTime:function(){var e=new Date,t=parseInt(this.from.hour);"PM"==this.from.ampm&&(t+=12),e.setHours(t,this.from.minutes),this.minVal=e.getTime(),t=parseInt(this.to.hour),"PM"==this.to.ampm&&(t+=12),e.setHours(t,this.to.minutes),this.maxVal=e.getTime(),this.curDate.getTime()>this.minVal&&this.curDate.getTime()<this.maxVal&&(this.minVal=this.curDate.getTime());var n=this.maxVal-this.minVal;return n}}},k=T,D=(n("bf83"),Object(u["a"])(k,d,h,!1,null,"fc21229c",null));D.options.__file="Todo.vue";var M=D.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-page"},[n("div",{staticClass:"form"},[n("h3",[e._v("Login")]),n("form",{staticClass:"login-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{on:{click:e.signIn}},[e._v("Ingresar")]),n("p",{staticClass:"message"},[n("router-link",{attrs:{to:"/"}},[e._v("Inicio")])],1)])])])},E=[],$=j.ref("admin"),V={data:function(){return{username:"",password:""}},firebase:{users:$},computed:{findByUser:function(){var e=this;this.username=this.username.toLowerCase();var t=this.users.filter(function(t){return t.username==e.username});return 1==t.length?this.users.filter(function(t){return t.username==e.username})[0].email:""}},methods:{signIn:function(){var e=this;if(""!=this.username&&""!=this.password){var t=this.findByUser;P.a.auth().signInWithEmailAndPassword(t,this.password).then(function(t){e.$router.replace("/config")},function(e){alert("Credenciales incorrectas"),console.log("Error ")})}}}},L=V,A=(n("7af8"),Object(u["a"])(L,S,E,!1,null,"329da46e",null));A.options.__file="Login.vue";var I=A.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"form"},[n("form",[n("Time",{attrs:{time:e.from,label:"Desde",name:"from"},on:{changeConfig:e.changeConfig}}),n("br"),n("Time",{attrs:{time:e.to,label:"Hasta",name:"to"},on:{changeConfig:e.changeConfig}}),n("br"),n("router-link",{attrs:{to:"/",tag:"button"}},[e._v("Regresar")])],1)])])},B=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[e._v(e._s(e.label))]),n("Number",{attrs:{name:"hour",value:e.time.hour,min:"1",max:"11"},on:{changeConfig:e.changeConfig}}),e._v(":\n    "),n("Number",{attrs:{name:"minutes",value:e.time.minutes,min:"0",max:"59"},on:{changeConfig:e.changeConfig}}),n("am-pm",{attrs:{value:e.time.ampm,name:e.name},on:{changeConfig:e.changeConfig}})],1)},q=[],H=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"switch-field"},[n("input",{attrs:{type:"radio",id:"switch_left",value:"AM",name:e.name+"ampm"},domProps:{checked:"AM"==e.value},on:{input:function(t){e.$emit("changeConfig","ampm",t.target.value)}}}),n("label",{attrs:{for:"switch_left"}},[e._v("AM")]),n("input",{attrs:{type:"radio",id:"switch_right",value:"PM",name:e.name+"ampm"},domProps:{checked:"PM"==e.value},on:{input:function(t){e.$emit("changeConfig","ampm",t.target.value)}}}),n("label",{attrs:{for:"switch_right"}},[e._v("PM")])])}),J=[],z={props:["value","name"],data:function(){return{}}},R=z,W=(n("c591"),Object(u["a"])(R,H,J,!1,null,null,null));W.options.__file="AmPm.vue";var F=W.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"number",min:e.min,max:e.max},on:{input:function(t){e.$emit("changeConfig",e.name,t.target.value)}}})},X=[],G={props:["min","max","name"]},Q=G,Y=(n("8970"),Object(u["a"])(Q,K,X,!1,null,"689eeec0",null));Y.options.__file="Number.vue";var Z=Y.exports,ee={data:function(){return{}},props:["time","label","name"],components:{AmPm:F,Number:Z},methods:{changeConfig:function(e,t){console.log("entre en time "+t),this.$emit("changeConfig",this.name+"/"+e,t)}}},te=ee,ne=(n("4176"),Object(u["a"])(te,U,q,!1,null,"b795ad32",null));ne.options.__file="Time.vue";var ae=ne.exports,re={data:function(){return{}},components:{Time:ae},firebase:{from:{source:j.ref("config/from"),asObject:!0},to:{source:j.ref("config/to"),asObject:!0}},methods:{changeConfig:function(e,t){console.log("entre en config"),j.ref("config").child(e).set(t)}}},ie=re,oe=(n("7796"),Object(u["a"])(ie,N,B,!1,null,"3723d832",null));oe.options.__file="Config.vue";var se,ue=oe.exports,ce=[{path:"*",redirect:"/"},{path:"/",component:M},{path:"/login",name:"login",component:I},{path:"/config",component:ue,meta:{requiresAuth:!0}}];a["a"].use(f.a),a["a"].use(p["a"]),a["a"].config.productionTip=!1;var le=new p["a"]({routes:ce});le.beforeEach(function(e,t,n){var a=P.a.auth().currentUser,r=e.matched.some(function(e){return e.meta.requiresAuth});r&&!a?n("/login"):n()}),P.a.auth().onAuthStateChanged(function(){se||(se=new a["a"]({render:function(e){return e(l)},router:le}).$mount("#app"))})},"6a46":function(e,t,n){},7796:function(e,t,n){"use strict";var a=n("3f45"),r=n.n(a);r.a},"7af8":function(e,t,n){"use strict";var a=n("6a46"),r=n.n(a);r.a},8970:function(e,t,n){"use strict";var a=n("a2d7"),r=n.n(a);r.a},"8cd3":function(e,t,n){},a2d7:function(e,t,n){},bf83:function(e,t,n){"use strict";var a=n("d433"),r=n.n(a);r.a},c21b:function(e,t,n){},c591:function(e,t,n){"use strict";var a=n("8cd3"),r=n.n(a);r.a},d433:function(e,t,n){}});
//# sourceMappingURL=app.be1a9e99.js.map